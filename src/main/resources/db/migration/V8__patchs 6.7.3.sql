
update lsusergrouprightsmaster set sequenceorder = 44 where sequenceorder=35 and orderno=12;
update lsusergrouprightsmaster set sequenceorder = 45 where sequenceorder=46 and orderno=19;
update lsusergrouprightsmaster set sequenceorder = 46 where sequenceorder=34 and orderno=11;

update lsusergrouprightsmaster set sequenceorder = 34 where sequenceorder=36 and orderno=13;
update lsusergrouprightsmaster set sequenceorder = 35 where sequenceorder=37 and orderno=78;
update lsusergrouprightsmaster set sequenceorder = 36 where sequenceorder=38 and orderno=17;
update lsusergrouprightsmaster set sequenceorder = 37 where sequenceorder=39 and orderno=21;
update lsusergrouprightsmaster set sequenceorder = 38 where sequenceorder=40 and orderno=16;
update lsusergrouprightsmaster set sequenceorder = 39 where sequenceorder=41 and orderno=23;
update lsusergrouprightsmaster set sequenceorder = 40 where sequenceorder=42 and orderno=22;
update lsusergrouprightsmaster set sequenceorder = 41 where sequenceorder=43 and orderno=24;
update lsusergrouprightsmaster set sequenceorder = 42 where sequenceorder=44 and screenname='IDS_SCN_USERMASTER';
update lsusergrouprightsmaster set sequenceorder = 43 where sequenceorder=45 and screenname='IDS_SCN_USERRIGHTS';
                                                                                     
update lsusergrouprightsmaster set modulename='IDS_MDL_SETUP' where screenname='IDS_SCN_PROJECTMASTER' and sequenceorder='44';
update lsusergrouprightsmaster set modulename='IDS_MDL_SETUP' where screenname='IDS_SCN_PROJECTTEAM' and sequenceorder='45';																		 
update lsusergrouprightsmaster set modulename='IDS_MDL_SETUP' where screenname='IDS_SCN_TASKMASTER' and sequenceorder='46';																		 


update lsusergrouprights set sequenceorder=44 where sequenceorder=34 and orderno=13;
update lsusergrouprights set sequenceorder=45 where sequenceorder=35 and orderno=14;

update lsusergrouprights set sequenceorder=34 where sequenceorder=36 and orderno=15;
update lsusergrouprights set sequenceorder=35 where sequenceorder=37 and orderno=62;
update lsusergrouprights set sequenceorder=36 where sequenceorder=38 and orderno=20;
update lsusergrouprights set sequenceorder=37 where sequenceorder=39 and orderno=29;
update lsusergrouprights set sequenceorder=37 where sequenceorder=39 and orderno=28;
update lsusergrouprights set sequenceorder=38 where sequenceorder=40 and orderno=19;
update lsusergrouprights set sequenceorder=39 where sequenceorder=41 and orderno=30;


update lsusergrouprights set sequenceorder=40 where sequenceorder=42 and orderno=103;
update lsusergrouprights set sequenceorder=41 where sequenceorder=43 and orderno=31;
update lsusergrouprights set sequenceorder=42 where sequenceorder=44 and orderno=59;
update lsusergrouprights set sequenceorder=43 where sequenceorder=45 and orderno=21;

update lsusergrouprights set sequenceorder=46 where sequenceorder=44 and orderno=13;
update lsusergrouprights set sequenceorder=44 where sequenceorder=45 and orderno=14;
update lsusergrouprights set sequenceorder=45 where sequenceorder=46 and orderno=22;

update lsusergrouprights set modulename='IDS_MDL_SETUP' where screenname='IDS_SCN_PROJECTMASTER';															 
update lsusergrouprights set modulename='IDS_MDL_SETUP' where screenname='IDS_SCN_TASKMASTER';																		 


update lsaudittrailconfigmaster set ordersequnce=36 where ordersequnce=42 and serialno=9;
update lsaudittrailconfigmaster set ordersequnce=37 where ordersequnce=43 and serialno=140;
update lsaudittrailconfigmaster set ordersequnce=38 where ordersequnce=44 and serialno=8;
update lsaudittrailconfigmaster set ordersequnce=39 where ordersequnce=45; 
update lsaudittrailconfigmaster set ordersequnce=40 where ordersequnce=46 and serialno=115;
update lsaudittrailconfigmaster set ordersequnce=41 where ordersequnce=47 and serialno=50;
update lsaudittrailconfigmaster set ordersequnce=42 where ordersequnce=48 and serialno=51;
update lsaudittrailconfigmaster set ordersequnce=43 where ordersequnce=49 and serialno=11;
update lsaudittrailconfigmaster set ordersequnce=44 where ordersequnce=50 and serialno=12;
update lsaudittrailconfigmaster set ordersequnce=45 where ordersequnce=51 and serialno=13;
update lsaudittrailconfigmaster set ordersequnce=46 where ordersequnce=52 and serialno=14;
update lsaudittrailconfigmaster set ordersequnce=47 where ordersequnce=53 and serialno=15;
update lsaudittrailconfigmaster set ordersequnce=48 where ordersequnce=54 and serialno=16;
update lsaudittrailconfigmaster set ordersequnce=49 where ordersequnce=55 and serialno=17;

update lsaudittrailconfigmaster set ordersequnce=50 where ordersequnce=56 and serialno=18;
update lsaudittrailconfigmaster set ordersequnce=51 where ordersequnce=57 and serialno=116;

update lsaudittrailconfigmaster set ordersequnce=52 where ordersequnce=58 and serialno=54;
update lsaudittrailconfigmaster set ordersequnce=53 where ordersequnce=59 and serialno=55;
update lsaudittrailconfigmaster set ordersequnce=54 where ordersequnce=60 and serialno=131;
update lsaudittrailconfigmaster set ordersequnce=55 where ordersequnce=61 and serialno=19;

update lsaudittrailconfigmaster set ordersequnce=56 where ordersequnce=36 and serialno=4;
update lsaudittrailconfigmaster set ordersequnce=57 where ordersequnce=37 and serialno=138;
update lsaudittrailconfigmaster set ordersequnce=58 where ordersequnce=38 and serialno=5;
update lsaudittrailconfigmaster set ordersequnce=59 where ordersequnce=39 and serialno=7;
update lsaudittrailconfigmaster set ordersequnce=60 where ordersequnce=40 and serialno=139;
update lsaudittrailconfigmaster set ordersequnce=61 where ordersequnce=41 and serialno=6;


update lsaudittrailconfigmaster set ordersequnce=56 where ordersequnce=59 and serialno=7;
update lsaudittrailconfigmaster set ordersequnce=57 where ordersequnce=60 and serialno=139;
update lsaudittrailconfigmaster set ordersequnce=58 where ordersequnce=61 and serialno=6;
update lsaudittrailconfigmaster set ordersequnce=59 where ordersequnce=62 and serialno=20;
update lsaudittrailconfigmaster set ordersequnce=60 where ordersequnce=63 and serialno=21;

update lsaudittrailconfigmaster set ordersequnce=61 where ordersequnce=56 and serialno=4;
update lsaudittrailconfigmaster set ordersequnce=62 where ordersequnce=57 and serialno=138;
update lsaudittrailconfigmaster set ordersequnce=63 where ordersequnce=58 and serialno=5;

update lsaudittrailconfigmaster set modulename='IDS_MDL_SETUP' where serialno in(7,139,6);
update lsaudittrailconfigmaster set modulename='IDS_MDL_SETUP' where serialno in(4,138,5);

ALTER TABLE IF Exists lsfile ADD Column IF NOT EXISTS retirestatus integer;
update lsfile set retirestatus=0 where retirestatus is null;

ALTER TABLE IF Exists LSprotocolmaster ADD Column IF NOT EXISTS retirestatus integer;
update LSprotocolmaster set retirestatus=0 where retirestatus is null;

INSERT into lsusergrouprightsmaster(orderno, displaytopic, modulename,screenname, sallow, screate,sdelete, sedit, status,sequenceorder) VALUES (124, 'IDS_TSK_RETIRE', 'IDS_MDL_TEMPLATES', 'IDS_SCN_SHEETTEMPLATE','0', 'NA', 'NA', 'NA', '0,0,0',88) ON CONFLICT(orderno)DO NOTHING;
INSERT into lsusergrouprightsmaster(orderno, displaytopic, modulename,screenname, sallow, screate,sdelete, sedit, status,sequenceorder) VALUES (125, 'IDS_TSK_RETIRE', 'IDS_MDL_TEMPLATES', 'IDS_SCN_PROTOCOLTEMPLATE','0', 'NA', 'NA', 'NA', '0,0,0',89) ON CONFLICT(orderno)DO NOTHING;
INSERT into lsusergrouprights(displaytopic,modulename,createdby, sallow, screate, sdelete, sedit,lssitemaster_sitecode, usergroupid_usergroupcode,screenname) SELECT 'IDS_TSK_RETIRE', 'IDS_MDL_TEMPLATES', 'administrator', '1', 'NA', 'NA', 'NA', 1,1,'IDS_SCN_SHEETTEMPLATE'  WHERE NOT EXISTS (select * from lsusergrouprights where displaytopic = 'IDS_TSK_RETIRE' and screenname='IDS_SCN_SHEETTEMPLATE' and usergroupid_usergroupcode = 1);    
INSERT into lsusergrouprights(displaytopic,modulename,createdby, sallow, screate, sdelete, sedit,lssitemaster_sitecode, usergroupid_usergroupcode,screenname) SELECT 'IDS_TSK_RETIRE', 'IDS_MDL_TEMPLATES', 'administrator', '1', 'NA', 'NA', 'NA', 1,1,'IDS_SCN_PROTOCOLTEMPLATE'  WHERE NOT EXISTS (select * from lsusergrouprights where displaytopic = 'IDS_TSK_RETIRE' and screenname='IDS_SCN_PROTOCOLTEMPLATE' and usergroupid_usergroupcode = 1); 

update lsusergrouprightsmaster set sequenceorder=1 where orderno =2;
update lsusergrouprightsmaster set sequenceorder=2 where orderno =1;
update lsusergrouprightsmaster set sequenceorder=3 where orderno =3;
update lsusergrouprightsmaster set sequenceorder=4 where orderno =93;
update lsusergrouprightsmaster set sequenceorder=5 where orderno =85;
update lsusergrouprightsmaster set sequenceorder=6 where orderno =8;
update lsusergrouprightsmaster set sequenceorder=7 where orderno =9;
update lsusergrouprightsmaster set sequenceorder=8 where orderno =37;
update lsusergrouprightsmaster set sequenceorder=9 where orderno =38;
update lsusergrouprightsmaster set sequenceorder=10 where orderno =110;
update lsusergrouprightsmaster set sequenceorder=11 where orderno =61;
update lsusergrouprightsmaster set sequenceorder=12 where orderno =62;
update lsusergrouprightsmaster set sequenceorder=13 where orderno =96;
update lsusergrouprightsmaster set sequenceorder=14 where orderno =91;
update lsusergrouprightsmaster set sequenceorder=15 where orderno =94;
update lsusergrouprightsmaster set sequenceorder=16 where orderno =86;
update lsusergrouprightsmaster set sequenceorder=17 where orderno =48;
update lsusergrouprightsmaster set sequenceorder=18 where orderno =49;
update lsusergrouprightsmaster set sequenceorder=19 where orderno =111;
update lsusergrouprightsmaster set sequenceorder=20 where orderno =80;
update lsusergrouprightsmaster set sequenceorder=21 where orderno =81;
update lsusergrouprightsmaster set sequenceorder=22 where orderno =92;
update lsusergrouprightsmaster set sequenceorder=23 where orderno =10;
update lsusergrouprightsmaster set sequenceorder=24 where orderno =69;
update lsusergrouprightsmaster set sequenceorder=25 where orderno =70;
update lsusergrouprightsmaster set sequenceorder=26 where orderno =88;
update lsusergrouprightsmaster set sequenceorder=27 where orderno =124;
update lsusergrouprightsmaster set sequenceorder=28 where orderno =51;
update lsusergrouprightsmaster set sequenceorder=29 where orderno =50;
update lsusergrouprightsmaster set sequenceorder=30 where orderno =84;
update lsusergrouprightsmaster set sequenceorder=31 where orderno =83;
update lsusergrouprightsmaster set sequenceorder=32 where orderno =57;
update lsusergrouprightsmaster set sequenceorder=33 where orderno =125;
update lsusergrouprightsmaster set sequenceorder=34 where orderno =71;
update lsusergrouprightsmaster set sequenceorder=35 where orderno =72;
update lsusergrouprightsmaster set sequenceorder=36 where orderno =13;
update lsusergrouprightsmaster set sequenceorder=37 where orderno =78;
update lsusergrouprightsmaster set sequenceorder=38 where orderno =17;
update lsusergrouprightsmaster set sequenceorder=39 where orderno =21;
update lsusergrouprightsmaster set sequenceorder=40 where orderno =16;
update lsusergrouprightsmaster set sequenceorder=41 where orderno =23;
update lsusergrouprightsmaster set sequenceorder=42 where orderno =22;
update lsusergrouprightsmaster set sequenceorder=43 where orderno =24;
update lsusergrouprightsmaster set sequenceorder=44 where orderno =52;
update lsusergrouprightsmaster set sequenceorder=45 where orderno =18;
update lsusergrouprightsmaster set sequenceorder=46 where orderno =12;
update lsusergrouprightsmaster set sequenceorder=47 where orderno =19;
update lsusergrouprightsmaster set sequenceorder=48 where orderno =11;
update lsusergrouprightsmaster set sequenceorder=49 where orderno =20;
update lsusergrouprightsmaster set sequenceorder=50 where orderno =41;
update lsusergrouprightsmaster set sequenceorder=51 where orderno =43;
update lsusergrouprightsmaster set sequenceorder=52 where orderno =68;
update lsusergrouprightsmaster set sequenceorder=53 where orderno =39;
update lsusergrouprightsmaster set sequenceorder=54 where orderno =54;
update lsusergrouprightsmaster set sequenceorder=55 where orderno =55;
update lsusergrouprightsmaster set sequenceorder=56 where orderno =56;
update lsusergrouprightsmaster set sequenceorder=57 where orderno =25;
update lsusergrouprightsmaster set sequenceorder=58 where orderno =28;
update lsusergrouprightsmaster set sequenceorder=59 where orderno =29;
update lsusergrouprightsmaster set sequenceorder=60 where orderno =30;
update lsusergrouprightsmaster set sequenceorder=61 where orderno =31;
update lsusergrouprightsmaster set sequenceorder=62 where orderno =32;
update lsusergrouprightsmaster set sequenceorder=63 where orderno =26;
update lsusergrouprightsmaster set sequenceorder=64 where orderno =27;
update lsusergrouprightsmaster set sequenceorder=65 where orderno =34;
update lsusergrouprightsmaster set sequenceorder=66 where orderno =58;
update lsusergrouprightsmaster set sequenceorder=67 where orderno =45;
update lsusergrouprightsmaster set sequenceorder=68 where orderno =35;
update lsusergrouprightsmaster set sequenceorder=69 where orderno =120;
update lsusergrouprightsmaster set sequenceorder=70 where orderno =99;
update lsusergrouprightsmaster set sequenceorder=71 where orderno =65;
update lsusergrouprightsmaster set sequenceorder=72 where orderno =66;
update lsusergrouprightsmaster set sequenceorder=73 where orderno =67;
update lsusergrouprightsmaster set sequenceorder=74 where orderno =101;
update lsusergrouprightsmaster set sequenceorder=75 where orderno =103;
update lsusergrouprightsmaster set sequenceorder=76 where orderno =104;
update lsusergrouprightsmaster set sequenceorder=77 where orderno =106;
update lsusergrouprightsmaster set sequenceorder=78 where orderno =107;
update lsusergrouprightsmaster set sequenceorder=79 where orderno =121;
update lsusergrouprightsmaster set sequenceorder=80 where orderno =122;
update lsusergrouprightsmaster set sequenceorder=81 where orderno =123;
update lsusergrouprightsmaster set sequenceorder=82 where orderno =95;
update lsusergrouprightsmaster set sequenceorder=83 where orderno =97;
update lsusergrouprightsmaster set sequenceorder=84 where orderno =98;
update lsusergrouprightsmaster set sequenceorder=85 where orderno =108;
update lsusergrouprightsmaster set sequenceorder=86 where orderno =109;

Insert into lsaudittrailconfigmaster (serialno,manualaudittrail,modulename,ordersequnce,screenname,taskname) 
values(192,0,'IDS_MDL_TEMPLATES',152,'IDS_SCN_SHEETTEMPLATES','IDS_TSK_RETIRE') ON CONFLICT(serialno)DO NOTHING;

Insert into lsaudittrailconfigmaster (serialno,manualaudittrail,modulename,ordersequnce,screenname,taskname) 
values(193,0,'IDS_MDL_TEMPLATES',153,'IDS_SCN_PROTOCOLTEMP','IDS_TSK_RETIRE') ON CONFLICT(serialno)DO NOTHING;

update lsaudittrailconfigmaster set ordersequnce=28 where serialno=114;
update lsaudittrailconfigmaster set ordersequnce=29 where serialno=192;
update lsaudittrailconfigmaster set ordersequnce=30 where serialno=108;
update lsaudittrailconfigmaster set ordersequnce=31 where serialno=58;
update lsaudittrailconfigmaster set ordersequnce=32 where serialno=137;
update lsaudittrailconfigmaster set ordersequnce=33 where serialno=59;
update lsaudittrailconfigmaster set ordersequnce=34 where serialno=61;
update lsaudittrailconfigmaster set ordersequnce=35 where serialno=193;
update lsaudittrailconfigmaster set ordersequnce=36 where serialno=60;
update lsaudittrailconfigmaster set ordersequnce=37 where serialno=10;
update lsaudittrailconfigmaster set ordersequnce=38 where serialno=9;
update lsaudittrailconfigmaster set ordersequnce=39 where serialno=140;
update lsaudittrailconfigmaster set ordersequnce=40 where serialno=8;
update lsaudittrailconfigmaster set ordersequnce=41 where serialno=13;
update lsaudittrailconfigmaster set ordersequnce=42 where serialno=115;
update lsaudittrailconfigmaster set ordersequnce=43 where serialno=50;
update lsaudittrailconfigmaster set ordersequnce=44 where serialno=51;
update lsaudittrailconfigmaster set ordersequnce=45 where serialno=11;
update lsaudittrailconfigmaster set ordersequnce=46 where serialno=12;
update lsaudittrailconfigmaster set ordersequnce=47 where serialno=14;
update lsaudittrailconfigmaster set ordersequnce=48 where serialno=15;
update lsaudittrailconfigmaster set ordersequnce=49 where serialno=16;
update lsaudittrailconfigmaster set ordersequnce=50 where serialno=17;
update lsaudittrailconfigmaster set ordersequnce=51 where serialno=18;
update lsaudittrailconfigmaster set ordersequnce=52 where serialno=116;
update lsaudittrailconfigmaster set ordersequnce=53 where serialno=54;
update lsaudittrailconfigmaster set ordersequnce=54 where serialno=55;
update lsaudittrailconfigmaster set ordersequnce=55 where serialno=131;
update lsaudittrailconfigmaster set ordersequnce=56 where serialno=19;
update lsaudittrailconfigmaster set ordersequnce=57 where serialno=7;
update lsaudittrailconfigmaster set ordersequnce=58 where serialno=139;
update lsaudittrailconfigmaster set ordersequnce=59 where serialno=6;
update lsaudittrailconfigmaster set ordersequnce=60 where serialno=20;
update lsaudittrailconfigmaster set ordersequnce=61 where serialno=21;
update lsaudittrailconfigmaster set ordersequnce=62 where serialno=4;
update lsaudittrailconfigmaster set ordersequnce=63 where serialno=138;
update lsaudittrailconfigmaster set ordersequnce=64 where serialno=5;
update lsaudittrailconfigmaster set ordersequnce=65 where serialno=22;
update lsaudittrailconfigmaster set ordersequnce=66 where serialno=56;
update lsaudittrailconfigmaster set ordersequnce=67 where serialno=32;
update lsaudittrailconfigmaster set ordersequnce=68 where serialno=57;
update lsaudittrailconfigmaster set ordersequnce=69 where serialno=33;
update lsaudittrailconfigmaster set ordersequnce=70 where serialno=34;
update lsaudittrailconfigmaster set ordersequnce=71 where serialno=35;
update lsaudittrailconfigmaster set ordersequnce=72 where serialno=84;
update lsaudittrailconfigmaster set ordersequnce=73 where serialno=147;
update lsaudittrailconfigmaster set ordersequnce=74 where serialno=85;
update lsaudittrailconfigmaster set ordersequnce=75 where serialno=86;
update lsaudittrailconfigmaster set ordersequnce=76 where serialno=87;
update lsaudittrailconfigmaster set ordersequnce=77 where serialno=88;
update lsaudittrailconfigmaster set ordersequnce=78 where serialno=89;
update lsaudittrailconfigmaster set ordersequnce=79 where serialno=90;
update lsaudittrailconfigmaster set ordersequnce=80 where serialno=91;
update lsaudittrailconfigmaster set ordersequnce=81 where serialno=92;
update lsaudittrailconfigmaster set ordersequnce=82 where serialno=93;
update lsaudittrailconfigmaster set ordersequnce=83 where serialno=94;
update lsaudittrailconfigmaster set ordersequnce=84 where serialno=95;
update lsaudittrailconfigmaster set ordersequnce=85 where serialno=96;
update lsaudittrailconfigmaster set ordersequnce=86 where serialno=97;
update lsaudittrailconfigmaster set ordersequnce=87 where serialno=23;
update lsaudittrailconfigmaster set ordersequnce=88 where serialno=117;
update lsaudittrailconfigmaster set ordersequnce=89 where serialno=24;
update lsaudittrailconfigmaster set ordersequnce=90 where serialno=25;
update lsaudittrailconfigmaster set ordersequnce=91 where serialno=26;
update lsaudittrailconfigmaster set ordersequnce=92 where serialno=27;
update lsaudittrailconfigmaster set ordersequnce=93 where serialno=28;
update lsaudittrailconfigmaster set ordersequnce=94 where serialno=42;
update lsaudittrailconfigmaster set ordersequnce=95 where serialno=47;
update lsaudittrailconfigmaster set ordersequnce=96 where serialno=49;
update lsaudittrailconfigmaster set ordersequnce=97 where serialno=43;
update lsaudittrailconfigmaster set ordersequnce=98 where serialno=29;
update lsaudittrailconfigmaster set ordersequnce=99 where serialno=52;
update lsaudittrailconfigmaster set ordersequnce=100 where serialno=118;
update lsaudittrailconfigmaster set ordersequnce=101 where serialno=53;
update lsaudittrailconfigmaster set ordersequnce=102 where serialno=141;
update lsaudittrailconfigmaster set ordersequnce=103 where serialno=30;
update lsaudittrailconfigmaster set ordersequnce=104 where serialno=150;
update lsaudittrailconfigmaster set ordersequnce=105 where serialno=156;
update lsaudittrailconfigmaster set ordersequnce=106 where serialno=151;
update lsaudittrailconfigmaster set ordersequnce=107 where serialno=119;
update lsaudittrailconfigmaster set ordersequnce=108 where serialno=157;
update lsaudittrailconfigmaster set ordersequnce=109 where serialno=158;
update lsaudittrailconfigmaster set ordersequnce=110 where serialno=120;
update lsaudittrailconfigmaster set ordersequnce=111 where serialno=159;
update lsaudittrailconfigmaster set ordersequnce=112 where serialno=142;
update lsaudittrailconfigmaster set ordersequnce=113 where serialno=121;
update lsaudittrailconfigmaster set ordersequnce=114 where serialno=160;
update lsaudittrailconfigmaster set ordersequnce=115 where serialno=153;
update lsaudittrailconfigmaster set ordersequnce=116 where serialno=161;
update lsaudittrailconfigmaster set ordersequnce=117 where serialno=152;
update lsaudittrailconfigmaster set ordersequnce=118 where serialno=154;
update lsaudittrailconfigmaster set ordersequnce=119 where serialno=162;
update lsaudittrailconfigmaster set ordersequnce=120 where serialno=163;
update lsaudittrailconfigmaster set ordersequnce=121 where serialno=164;
update lsaudittrailconfigmaster set ordersequnce=122 where serialno=155;
update lsaudittrailconfigmaster set ordersequnce=123 where serialno=165;
update lsaudittrailconfigmaster set ordersequnce=124 where serialno=122;
update lsaudittrailconfigmaster set ordersequnce=125 where serialno=166;
update lsaudittrailconfigmaster set ordersequnce=126 where serialno=143;
update lsaudittrailconfigmaster set ordersequnce=127 where serialno=167;
update lsaudittrailconfigmaster set ordersequnce=128 where serialno=123;
update lsaudittrailconfigmaster set ordersequnce=129 where serialno=168;
update lsaudittrailconfigmaster set ordersequnce=130 where serialno=124;
update lsaudittrailconfigmaster set ordersequnce=131 where serialno=169;
update lsaudittrailconfigmaster set ordersequnce=132 where serialno=144;
update lsaudittrailconfigmaster set ordersequnce=133 where serialno=125;
update lsaudittrailconfigmaster set ordersequnce=134 where serialno=170;
update lsaudittrailconfigmaster set ordersequnce=135 where serialno=171;
update lsaudittrailconfigmaster set ordersequnce=136 where serialno=126;
update lsaudittrailconfigmaster set ordersequnce=137 where serialno=172;
update lsaudittrailconfigmaster set ordersequnce=138 where serialno=145;
update lsaudittrailconfigmaster set ordersequnce=139 where serialno=127;
update lsaudittrailconfigmaster set ordersequnce=140 where serialno=173;
update lsaudittrailconfigmaster set ordersequnce=141 where serialno=174;
update lsaudittrailconfigmaster set ordersequnce=142 where serialno=128;
update lsaudittrailconfigmaster set ordersequnce=143 where serialno=175;
update lsaudittrailconfigmaster set ordersequnce=144 where serialno=146;
update lsaudittrailconfigmaster set ordersequnce=145 where serialno=129;
update lsaudittrailconfigmaster set ordersequnce=146 where serialno=176;
update lsaudittrailconfigmaster set ordersequnce=147 where serialno=177;
update lsaudittrailconfigmaster set ordersequnce=148 where serialno=71;
update lsaudittrailconfigmaster set ordersequnce=149 where serialno=72;
update lsaudittrailconfigmaster set ordersequnce=150 where serialno=178;
update lsaudittrailconfigmaster set ordersequnce=151 where serialno=73;
update lsaudittrailconfigmaster set ordersequnce=152 where serialno=179;
update lsaudittrailconfigmaster set ordersequnce=153 where serialno=180;
update lsaudittrailconfigmaster set ordersequnce=154 where serialno=74;
update lsaudittrailconfigmaster set ordersequnce=155 where serialno=75;
update lsaudittrailconfigmaster set ordersequnce=156 where serialno=181;
update lsaudittrailconfigmaster set ordersequnce=157 where serialno=182;
update lsaudittrailconfigmaster set ordersequnce=158 where serialno=183;
update lsaudittrailconfigmaster set ordersequnce=159 where serialno=184;
update lsaudittrailconfigmaster set ordersequnce=160 where serialno=185;
update lsaudittrailconfigmaster set ordersequnce=161 where serialno=186;
update lsaudittrailconfigmaster set ordersequnce=162 where serialno=187;
update lsaudittrailconfigmaster set ordersequnce=163 where serialno=188;
update lsaudittrailconfigmaster set ordersequnce=164 where serialno=189;
update lsaudittrailconfigmaster set ordersequnce=165 where serialno=190;
update lsaudittrailconfigmaster set ordersequnce=166 where serialno=191;
update lsaudittrailconfigmaster set ordersequnce=167 where serialno=83;
update lsaudittrailconfigmaster set ordersequnce=168 where serialno=82;
update lsaudittrailconfigmaster set ordersequnce=169 where serialno=81;
update lsaudittrailconfigmaster set ordersequnce=170 where serialno=135;
update lsaudittrailconfigmaster set ordersequnce=171 where serialno=134;
update lsaudittrailconfigmaster set ordersequnce=172 where serialno=133;
update lsaudittrailconfigmaster set ordersequnce=173 where serialno=132;

update lsaudittrailconfigmaster set ordersequnce=41 where serialno=52;
update lsaudittrailconfigmaster set ordersequnce=42 where serialno=118;

update lsaudittrailconfigmaster set ordersequnce=100 where serialno=53;
update lsaudittrailconfigmaster set ordersequnce=101 where serialno=30;
update lsaudittrailconfigmaster set ordersequnce=102 where serialno=118;
update lsaudittrailconfigmaster set ordersequnce=103 where serialno=141;

update lsusergrouprights set modulename='IDS_MDL_ORDERS'  where screenname='IDS_SCN_UNLOCKORDERS';
update lsusergrouprightsmaster set modulename='IDS_MDL_ORDERS'  where screenname='IDS_SCN_UNLOCKORDERS';

update lsusergrouprightsmaster set sequenceorder='23' where sequenceorder='37' and orderno='78';
update lsusergrouprightsmaster set sequenceorder='24' where sequenceorder='23' and orderno='10';
update lsusergrouprightsmaster set sequenceorder='25' where sequenceorder='24' and orderno='69';
update lsusergrouprightsmaster set sequenceorder='26' where sequenceorder='25' and orderno='70';
update lsusergrouprightsmaster set sequenceorder='27' where sequenceorder='26' and orderno='88';
update lsusergrouprightsmaster set sequenceorder='28' where sequenceorder='27' and orderno='124';
update lsusergrouprightsmaster set sequenceorder='29' where sequenceorder='28' and orderno='51';
update lsusergrouprightsmaster set sequenceorder='30' where sequenceorder='29' and orderno='50';
update lsusergrouprightsmaster set sequenceorder='31' where sequenceorder='30' and orderno='84';
update lsusergrouprightsmaster set sequenceorder='32' where sequenceorder='31' and orderno='83';
update lsusergrouprightsmaster set sequenceorder='33' where sequenceorder='32' and orderno='57';
update lsusergrouprightsmaster set sequenceorder='34' where sequenceorder='33' and orderno='125';
update lsusergrouprightsmaster set sequenceorder='35' where sequenceorder='34' and orderno='71';
update lsusergrouprightsmaster set sequenceorder='36' where sequenceorder='35' and orderno='72';
update lsusergrouprightsmaster set sequenceorder='37' where sequenceorder='36' and orderno='13';


update lsaudittrailconfigmaster set modulename='IDS_MDL_ORDERS' where modulename='IDS_MDL_MASTERS';
update lsaudittrailconfigmaster set ordersequnce=24 where ordersequnce=42 and serialno=115;

update lsaudittrailconfigmaster set ordersequnce=25 where ordersequnce=24 and serialno=113;
update lsaudittrailconfigmaster set ordersequnce=26 where ordersequnce=25 and serialno=136;
update lsaudittrailconfigmaster set ordersequnce=27 where ordersequnce=26 and serialno=3;
update lsaudittrailconfigmaster set ordersequnce=28 where ordersequnce=27 and serialno=41;
update lsaudittrailconfigmaster set ordersequnce=29 where ordersequnce=28 and serialno=114;
update lsaudittrailconfigmaster set ordersequnce=30 where ordersequnce=29 and serialno=192;
update lsaudittrailconfigmaster set ordersequnce=31 where ordersequnce=30 and serialno=108;
update lsaudittrailconfigmaster set ordersequnce=32 where ordersequnce=31 and serialno=58;
update lsaudittrailconfigmaster set ordersequnce=33 where ordersequnce=32 and serialno=137;
update lsaudittrailconfigmaster set ordersequnce=34 where ordersequnce=33 and serialno=59;
update lsaudittrailconfigmaster set ordersequnce=35 where ordersequnce=34 and serialno=61;
update lsaudittrailconfigmaster set ordersequnce=36 where ordersequnce=35 and serialno=193;
update lsaudittrailconfigmaster set ordersequnce=37 where ordersequnce=36 and serialno=60;
update lsaudittrailconfigmaster set ordersequnce=38 where ordersequnce=37 and serialno=10;
update lsaudittrailconfigmaster set ordersequnce=39 where ordersequnce=38 and serialno=9;
update lsaudittrailconfigmaster set ordersequnce=40 where ordersequnce=39 and serialno=140;
update lsaudittrailconfigmaster set ordersequnce=41 where ordersequnce=40 and serialno=8;
update lsaudittrailconfigmaster set ordersequnce=42 where ordersequnce=41 and serialno=13;
update lsaudittrailconfigmaster set ordersequnce=42 where ordersequnce=41 and serialno=52;
update lsaudittrailconfigmaster set ordersequnce=24 where ordersequnce=42 and serialno=115;

ALTER TABLE IF Exists lslogilablimsorderdetail ADD COLUMN IF NOT EXISTS sentforapprovel Boolean;
ALTER TABLE IF Exists lslogilablimsorderdetail ADD COLUMN IF NOT EXISTS approvelaccept Boolean;

 DO
$do$
DECLARE
   _kind "char";
BEGIN
   SELECT relkind
   FROM   pg_class
   WHERE  relname = 'lsordernotification_seq' 
   INTO  _kind;

   IF NOT FOUND THEN CREATE SEQUENCE lsordernotification_seq;
   ELSIF _kind = 'S' THEN  
     
   ELSE                  
    
   END IF;
END
$do$;

  CREATE TABLE IF NOT EXISTS public.lsordernotification
(
    notificationcode numeric(17,0) NOT NULL DEFAULT nextval('lsordernotification_seq'::regclass),
    batchcode numeric(17,0) ,
    batchid character varying(250) COLLATE pg_catalog."default",
    cautiondate timestamp without time zone,
    createdtimestamp timestamp without time zone,
    duedate timestamp without time zone,
    screen character varying(255) COLLATE pg_catalog."default",
    status integer,
    usercode integer,
    CONSTRAINT lsordernotification_pkey PRIMARY KEY (notificationcode)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.lsordernotification
    OWNER to postgres;
	
alter table lslogilablimsorderdetail drop column IF EXISTS duedate;
alter table lslogilablimsorderdetail drop column IF EXISTS cautiondate;

ALTER TABLE IF Exists lsusermaster ADD COLUMN IF NOT EXISTS autenticatefrom  INTEGER;
ALTER TABLE IF Exists lsusermaster ADD COLUMN IF NOT EXISTS picture character varying(255) COLLATE pg_catalog."default";
ALTER TABLE IF Exists lsusermaster ADD COLUMN IF NOT EXISTS subcode character varying(255) COLLATE pg_catalog."default";
ALTER TABLE IF Exists lssitemaster ADD COLUMN IF NOT EXISTS accouttype integer;
ALTER TABLE IF Exists lssitemaster ADD COLUMN IF NOT EXISTS country character varying(255) COLLATE pg_catalog."default";
ALTER TABLE IF Exists lssitemaster ADD COLUMN IF NOT EXISTS organisationname character varying(255) COLLATE pg_catalog."default";
ALTER TABLE IF Exists lssitemaster ADD COLUMN IF NOT EXISTS teamsize integer;

ALTER TABLE IF Exists lslogilablimsorderdetail ADD COLUMN IF NOT EXISTS lsordernotification_notificationcode numeric(17,0);

DO
$do$
declare
  multiusergroupcount integer :=0;
begin
SELECT count(*) into multiusergroupcount FROM
information_schema.table_constraints WHERE constraint_name='fki2iy92yjnyt3vkc3t1abjeme8'
AND table_name='lslogilablimsorderdetail';
 IF multiusergroupcount =0 THEN
 	ALTER TABLE ONLY lslogilablimsorderdetail ADD CONSTRAINT fki2iy92yjnyt3vkc3t1abjeme8 FOREIGN KEY (lsordernotification_notificationcode) REFERENCES lsordernotification (notificationcode);
   END IF;
END
$do$; 

ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS isduedateexhausted Boolean;

ALTER TABLE IF Exists lslogilabprotocoldetail ADD COLUMN IF NOT EXISTS sentforapprovel Boolean;
ALTER TABLE IF Exists lslogilabprotocoldetail ADD COLUMN IF NOT EXISTS approvelaccept Boolean;

ALTER TABLE IF Exists lslogilabprotocoldetail ADD COLUMN IF NOT EXISTS lsordernotification_notificationcode numeric(17,0);

DO
$do$
declare
  multiusergroupcount integer :=0;
begin
SELECT count(*) into multiusergroupcount FROM
information_schema.table_constraints WHERE constraint_name='fknjsh6prhgih9em7woet6va797'
AND table_name='lslogilabprotocoldetail';
 IF multiusergroupcount =0 THEN
 	ALTER TABLE ONLY lslogilabprotocoldetail ADD CONSTRAINT fknjsh6prhgih9em7woet6va797 FOREIGN KEY (lsordernotification_notificationcode) REFERENCES lsordernotification (notificationcode);
   END IF;
END
$do$; 

ALTER TABLE IF Exists lssitemaster ADD COLUMN IF NOT EXISTS expirydate timestamp without time zone;
ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS period varchar(250);

/*
 DO
$do$
DECLARE
   _kind "char";
BEGIN
   SELECT relkind
   FROM   pg_class
   WHERE  relname = 'lsautoregister_seq' 
   INTO  _kind;

   IF NOT FOUND THEN CREATE SEQUENCE lsautoregister_seq;
   ELSIF _kind = 'S' THEN  
     
   ELSE                  
    
   END IF;
END
$do$;

CREATE TABLE IF NOT EXISTS public.lsautoregister
(
    regcode numeric(17,0) NOT NULL,
    autocreatedate timestamp without time zone,
    batchcode numeric(17,0),
    "interval" integer,
	ismultitenant integer,
    repeat boolean,
    screen character varying(255) COLLATE pg_catalog."default",
    timespan character varying(255) COLLATE pg_catalog."default",
    CONSTRAINT lsautoregister_pkey PRIMARY KEY (regcode),
    CONSTRAINT fkmdkcpw98le9x1bhlt3qi0py1k FOREIGN KEY (batchcode)
        REFERENCES public.lslogilablimsorderdetail (batchcode) MATCH SIMPLE
        ON UPDATE NO ACTION
        ON DELETE NO ACTION
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.lsautoregister
    OWNER to postgres;
*/
	
ALTER TABLE IF Exists lslogilablimsorderdetail ADD COLUMN IF NOT EXISTS repeat Boolean;

CREATE TABLE IF NOT EXISTS public.lsactivewidgets
(
    activewidgetscode integer NOT NULL,
    activewidgetsdetails character varying(255) COLLATE pg_catalog."default",
    activewidgetsdetailscode bigint,
    activedatatimestamp timestamp without time zone,
    activitytype character varying(255) COLLATE pg_catalog."default",
    description character varying(255) COLLATE pg_catalog."default",
    screenname character varying(255) COLLATE pg_catalog."default",
    userid integer,
    parentcode integer,
    CONSTRAINT lsactivewidgets_pkey PRIMARY KEY (activewidgetscode)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.lsactivewidgets
    OWNER to postgres;

ALTER TABLE IF Exists LSlogilablimsorderdetail ADD Column IF NOT EXISTS ordersaved integer;
update LSlogilablimsorderdetail set ordersaved=0 where ordersaved is null;

DO $$
BEGIN
  IF EXISTS (
    SELECT 1
    FROM information_schema.columns
    WHERE table_schema = 'public'
    AND table_name = 'lsordernotification'
    AND column_name = 'status'
  ) THEN
    ALTER TABLE public.lsordernotification RENAME COLUMN status TO cautionstatus;
  END IF;
END $$;


ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS duestatus integer;
ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS overduestatus integer;
ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS overduedays character varying(50) ;
ALTER TABLE IF Exists lsordernotification ADD COLUMN IF NOT EXISTS iscompleted Boolean default false;

DO
$do$
DECLARE
   _kind "char";
BEGIN
   SELECT relkind
   FROM   pg_class
   WHERE  relname = 'lsresulttags_seq' 
   INTO  _kind;

   IF NOT FOUND THEN CREATE SEQUENCE lsresulttags_seq;
   ELSIF _kind = 'S' THEN  
     
   ELSE                  
    
   END IF;
END
$do$;

CREATE TABLE IF NOT EXISTS public.Lsresulttags
(
    id bigint NOT NULL DEFAULT nextval('Lsresulttags_seq'::regclass),
    content jsonb,
    resultvalue character varying(255),
    orderid bigint,
    CONSTRAINT Lsresulttags_pkey PRIMARY KEY (id)
)
WITH (OIDS = FALSE) TABLESPACE pg_default;

ALTER TABLE public.Lsresulttags OWNER to postgres;

ALTER TABLE IF Exists Lsfileshareto ADD Column IF NOT EXISTS retirestatus integer;
update Lsfileshareto set retirestatus=0 where retirestatus is null;

ALTER TABLE IF Exists Lsfilesharedby ADD Column IF NOT EXISTS retirestatus integer;
update Lsfilesharedby set retirestatus=0 where retirestatus is null;

ALTER TABLE IF Exists Lsprotocolshareto ADD Column IF NOT EXISTS retirestatus integer;
update Lsprotocolshareto set retirestatus=0 where retirestatus is null;

ALTER TABLE IF Exists Lsprotocolsharedby ADD Column IF NOT EXISTS retirestatus integer;

update Lsprotocolsharedby set retirestatus=0 where retirestatus is null;

ALTER TABLE IF Exists Lscfrtransactiononorder ALTER COLUMN comments TYPE VARCHAR(3000);

ALTER TABLE IF Exists lsactivewidgets ADD Column IF NOT EXISTS folderdirfloatcode integer;

ALTER TABLE IF Exists lsactivewidgets ALTER COLUMN  parentcode SET DATA TYPE double precision;

ALTER TABLE IF Exists lsactivewidgets ADD Column IF NOT EXISTS cancelstatus integer;

update lsactivewidgets set cancelstatus=0 where cancelstatus is null;

/*
DO $$ 
BEGIN
    IF EXISTS (
        SELECT 1
        FROM information_schema.table_constraints
        WHERE constraint_name = 'fkmdkcpw98le9x1bhlt3qi0py1k' 
        AND table_name = 'lsautoregister'
    ) THEN
        ALTER TABLE public.lsautoregister
        DROP CONSTRAINT fkmdkcpw98le9x1bhlt3qi0py1k;
    END IF;
END $$;

drop table IF EXISTS lsautoregister;
*/
 DO
$do$
DECLARE
   _kind "char";
BEGIN
   SELECT relkind
   FROM   pg_class
   WHERE  relname = 'lsautoregister_seq' 
   INTO  _kind;

   IF NOT FOUND THEN CREATE SEQUENCE lsautoregister_seq;
   ELSIF _kind = 'S' THEN  
     
   ELSE                  
    
   END IF;
END
$do$;


CREATE TABLE IF NOT EXISTS public.lsautoregister
(
    regcode numeric(17,0) NOT NULL DEFAULT nextval('lsautoregister_seq'::regclass),
    autocreatedate timestamp without time zone,
    batchcode numeric(17,0),
    delayinminutes bigint,
    "interval" integer,
    ismultitenant integer,
    repeat boolean,
    schedulerstarttime timestamp without time zone,
    screen character varying(255) COLLATE pg_catalog."default",
    timespan character varying(255) COLLATE pg_catalog."default",
    isautoreg boolean,
    CONSTRAINT lsautoregister_pkey PRIMARY KEY (regcode)
)

TABLESPACE pg_default;

ALTER TABLE IF EXISTS public.lsautoregister
    OWNER to postgres;


ALTER TABLE lslogilablimsorderdetail  DROP CONSTRAINT IF EXISTS fkmdkcpw98le9x1bhlt3qi0py1k ;

ALTER TABLE IF Exists LSlogilabprotocoldetail ADD COLUMN IF NOT EXISTS lsautoregister_regcode numeric(17,0);
ALTER TABLE IF Exists LSlogilabprotocoldetail ADD COLUMN IF NOT EXISTS repeat Boolean;
ALTER TABLE IF Exists LsAutoregister ADD COLUMN IF NOT EXISTS isautoreg Boolean;

DO
$do$
declare
  multiusergroupcount integer :=0;
begin
SELECT count(*) into multiusergroupcount FROM
information_schema.table_constraints WHERE constraint_name='fkdaci08fpb7iky5dukmxear86a'
AND table_name='lslogilabprotocoldetail';
 IF multiusergroupcount =0 THEN
 	ALTER TABLE ONLY lslogilabprotocoldetail ADD CONSTRAINT fkdaci08fpb7iky5dukmxear86a FOREIGN KEY (lsautoregister_regcode) REFERENCES lsautoregister (regcode);
   END IF;
END
$do$; 

ALTER TABLE lslogilablimsorderdetail drop COLUMN IF EXISTS lsautoregister_regcode ;
ALTER TABLE IF Exists lslogilablimsorderdetail ADD COLUMN IF NOT EXISTS lsautoregisterorders_regcode numeric(17,0);


DO
$do$
declare
  multiusergroupcount integer :=0;
begin
SELECT count(*) into multiusergroupcount FROM
information_schema.table_constraints WHERE constraint_name='fko1y1hl0xopwucg5pfja98jdro'
AND table_name='lslogilablimsorderdetail';
 IF multiusergroupcount =0 THEN
 	ALTER TABLE ONLY lslogilablimsorderdetail ADD CONSTRAINT fko1y1hl0xopwucg5pfja98jdro FOREIGN KEY (lsautoregisterorders_regcode) REFERENCES lsautoregister (regcode);
   END IF;
END
$do$; 
update lsactivewidgets set cancelstatus=0 where cancelstatus is null;

update lsactivewidgets set cancelstatus=0 where cancelstatus is null;

ALTER TABLE IF Exists lsactivewidgets ALTER COLUMN activewidgetsdetails TYPE VARCHAR(3000);

ALTER TABLE IF Exists lsactivewidgets ADD COLUMN IF NOT EXISTS  filename character varying(255);

CREATE TABLE IF NOT EXISTS public.lsresultfororders
(
    id bigint NOT NULL,
    batchcode numeric(17,0),
    content jsonb,
    contentstored integer,
    CONSTRAINT lsresultfororders_pkey PRIMARY KEY (id)
)
WITH (OIDS = FALSE)TABLESPACE pg_default;

ALTER TABLE public.lsresultfororders OWNER to postgres;

ALTER TABLE IF Exists lsfile ADD Column IF NOT EXISTS resultsheet integer;

update lsfile set resultsheet = 0 where resultsheet is null;

DO
$do$
DECLARE
    _kind "char";
    _max_notificationcode INT;
BEGIN
    -- Check if the sequence exists
    SELECT relkind
    INTO   _kind
    FROM   pg_class
    WHERE  relname = 'notification_sequence';

    IF NOT FOUND THEN
        -- Get the maximum notificationcode value
        SELECT COALESCE(MAX(notificationcode), 0) + 10
        INTO   _max_notificationcode
        FROM   lsnotification

        -- Create the sequence starting from the max notificationcode value
        EXECUTE format('CREATE SEQUENCE notification_sequence START WITH %s', _max_notificationcode);
    ELSIF _kind = 'S' THEN  
        -- Sequence exists, do nothing
        RAISE NOTICE 'Sequence already exists, doing nothing.';
    ELSE             
        -- Something else with the same name exists, handle it appropriately
        RAISE EXCEPTION 'A non-sequence object with the name "notification_sequence" already exists.';
    END IF;
END
$do$;

ALTER TABLE lsnotification ALTER COLUMN notificationcode SET DEFAULT nextval('notification_sequence');